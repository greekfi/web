# Nixpacks configuration for Railway deployment
# https://nixpacks.com/docs/configuration/file

[phases.setup]
nixPkgs = ["nodejs_20", "yarn"]

[phases.install]
cmds = ["yarn install --frozen-lockfile"]

[start]
cmd = "yarn bebop"  # Default, overridden by railway.toml

# Force yarn as package manager (ignore package-lock.json)
[variables]
NIXPACKS_INSTALL_CMD = "yarn install --frozen-lockfile"
